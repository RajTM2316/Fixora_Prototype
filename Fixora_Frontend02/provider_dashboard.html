<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fixora | Provider Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: { 
                            dark: '#0f172a', 
                            primary: '#0066ff', 
                            'primary-dark': '#0052cc',
                            action: '#4f46e5',
                            'action-light': '#6366f1',
                            accent: '#06b6d4',
                            success: '#10b981',
                            warning: '#f59e0b',
                            surface: '#f8fafc',
                            'surface-alt': '#f1f5f9'
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-brand-surface">

    <header class="bg-white shadow-md p-4 flex justify-between items-center border-b border-gray-100">
        <h1 class="font-bold bg-gradient-to-r from-brand-primary to-brand-action bg-clip-text text-transparent text-xl">Fixora <span class="text-gray-400 text-sm font-normal">| Partner</span></h1>
        <div class="flex items-center gap-3">
            <span class="text-sm font-semibold text-gray-700">Availability (R-5.1)</span>
            <label class="relative inline-flex items-center cursor-pointer tap-effect">
                <input type="checkbox" id="availabilityToggle" class="sr-only peer" checked onchange="updateAvailability()">
                <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-gradient-to-r peer-checked:from-brand-success peer-checked:to-green-600 shadow-md"></div>
            </label>
        </div>
    </header>

    <main class="max-w-2xl mx-auto p-4">
        
        <div class="grid grid-cols-2 gap-4 mb-6">
            <div class="bg-white p-4 rounded-xl shadow-md border-l-4 border-brand-primary card-interactive tap-effect">
                <p class="text-gray-500 text-xs uppercase font-bold tracking-wider">Today's Earnings</p>
                <p class="text-2xl font-extrabold bg-gradient-to-r from-brand-primary to-brand-action bg-clip-text text-transparent">$120.00</p>
            </div>
            <div class="bg-white p-4 rounded-xl shadow-md border-l-4 border-purple-500 card-interactive tap-effect">
                <p class="text-gray-500 text-xs uppercase font-bold tracking-wider">Jobs Completed</p>
                <p class="text-2xl font-extrabold text-brand-primary">3</p>
            </div>
        </div>

        <h2 class="font-bold text-lg mb-4 text-brand-dark">Current Job</h2>
        <div class="bg-white rounded-xl shadow-lg overflow-hidden mb-8 card-interactive border border-gray-100">
            <div class="bg-gradient-to-r from-brand-primary to-brand-action text-white p-4 flex justify-between items-center">
                <span class="font-bold">#ORD-2991</span>
                <span class="bg-white/25 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-semibold shadow-md">Active</span>
            </div>
            <div class="p-6">
                <h3 class="text-xl font-bold mb-1 text-brand-dark">AC Repair & Service</h3>
                <p class="text-gray-500 mb-4 flex items-center gap-2"><i class="fa-solid fa-location-dot text-brand-action"></i> 45 Green Street, Apt 4B</p>
                
                <div class="flex gap-3 mb-4">
                    <button class="flex-1 bg-gradient-to-br from-green-50 to-emerald-50 text-brand-success py-2 rounded-lg font-medium hover-lift tap-effect shadow-sm border border-green-100"><i class="fa-solid fa-phone"></i> Call</button>
                    <button class="flex-1 bg-gradient-to-br from-blue-50 to-indigo-50 text-brand-action py-2 rounded-lg font-medium hover-lift tap-effect shadow-sm border border-blue-100"><i class="fa-solid fa-message"></i> Chat</button>
                </div>
                
                <button class="w-full bg-gradient-to-r from-brand-dark via-brand-primary to-brand-action text-white py-3 rounded-lg font-bold tap-effect hover-lift shadow-lg transition-all relative overflow-hidden">
                    <span class="relative z-10">Mark as Completed</span>
                </button>
            </div>
        </div>

        <h2 class="font-bold text-lg mb-4 text-brand-dark">Recent History</h2>
        <div class="space-y-3">
            <div class="bg-white p-4 rounded-lg border border-gray-100 flex justify-between items-center card-interactive tap-effect hover:border-brand-action-light transition-all">
                <div>
                    <p class="font-bold text-brand-dark">Kitchen Cleaning</p>
                    <p class="text-xs text-gray-400">Yesterday, 2:00 PM</p>
                </div>
                <span class="text-brand-success font-extrabold text-lg">+$30.00</span>
            </div>
            <div class="bg-white p-4 rounded-lg border border-gray-100 flex justify-between items-center card-interactive tap-effect hover:border-brand-action-light transition-all">
                <div>
                    <p class="font-bold text-brand-dark">Fan Repair</p>
                    <p class="text-xs text-gray-400">Yesterday, 10:00 AM</p>
                </div>
                <span class="text-brand-success font-extrabold text-lg">+$15.00</span>
            </div>
        </div>

    </main>

    <script>
        // Update Availability Status (R-5.1)
        function updateAvailability() {
            const isAvailable = document.getElementById('availabilityToggle').checked;
            const status = isAvailable ? 'available' : 'unavailable';
            
            // In real app, this would update status in database
            console.log('Updating availability status:', status);
            
            // Show confirmation
            const message = isAvailable 
                ? 'You are now available for new bookings!' 
                : 'You are now offline. No new bookings will be assigned.';
            
            alert(message);
            
            // In real app, send API request to backend
            // fetch('/api/provider/availability', { method: 'POST', body: JSON.stringify({ status }) });
        }

        // Mark as Completed
        document.querySelector('button')?.addEventListener('click', function(e) {
            if (e.target.textContent.includes('Mark as Completed')) {
                if (confirm('Mark this job as completed?')) {
                    alert('Job marked as completed. Payment will be processed.');
                    // In real app, update booking status in database
                }
            }
        });
    </script>
</body>
</html>